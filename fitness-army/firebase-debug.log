[debug] [2022-08-30T10:30:35.214Z] ----------------------------------------------------------------------
[debug] [2022-08-30T10:30:35.215Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\mzafirovski\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy
[debug] [2022-08-30T10:30:35.215Z] CLI Version:   11.2.1
[debug] [2022-08-30T10:30:35.215Z] Platform:      win32
[debug] [2022-08-30T10:30:35.215Z] Node Version:  v16.15.1
[debug] [2022-08-30T10:30:35.216Z] Time:          Tue Aug 30 2022 12:30:35 GMT+0200 (Central European Summer Time)
[debug] [2022-08-30T10:30:35.216Z] ----------------------------------------------------------------------
[debug] 
[debug] [2022-08-30T10:30:35.258Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2022-08-30T10:30:35.258Z] > authorizing via signed-in user (mihailzafirovski@gmail.com)
[debug] [2022-08-30T10:30:35.258Z] [iam] checking project fitness-army for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2022-08-30T10:30:35.260Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/fitness-army:testIamPermissions [none]
[debug] [2022-08-30T10:30:35.260Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/fitness-army:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2022-08-30T10:30:36.142Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/fitness-army:testIamPermissions 200
[debug] [2022-08-30T10:30:36.142Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/fitness-army:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2022-08-30T10:30:36.142Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/fitness-army/serviceAccounts/fitness-army@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2022-08-30T10:30:36.143Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/fitness-army/serviceAccounts/fitness-army@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2022-08-30T10:30:36.936Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/fitness-army/serviceAccounts/fitness-army@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2022-08-30T10:30:36.936Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/fitness-army/serviceAccounts/fitness-army@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'fitness-army'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] +  functions: Finished running predeploy script. 
[debug] [2022-08-30T10:30:42.160Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army [none]
[debug] [2022-08-30T10:30:42.573Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army 200
[debug] [2022-08-30T10:30:42.573Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army {"projectId":"fitness-army","projectNumber":"232059287122","displayName":"fitness-army","name":"projects/fitness-army","resources":{"hostingSite":"fitness-army","realtimeDatabaseInstance":"fitness-army-default-rtdb","storageBucket":"fitness-army.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_60a59575-8a99-4e1f-be7f-8743394f6dee"}
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2022-08-30T10:30:42.579Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudfunctions.googleapis.com [none]
[debug] [2022-08-30T10:30:42.580Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/runtimeconfig.googleapis.com [none]
[debug] [2022-08-30T10:30:42.581Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudbuild.googleapis.com [none]
[debug] [2022-08-30T10:30:42.582Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/artifactregistry.googleapis.com [none]
[debug] [2022-08-30T10:30:43.695Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/runtimeconfig.googleapis.com 200
[debug] [2022-08-30T10:30:43.695Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/runtimeconfig.googleapis.com [omitted]
[debug] [2022-08-30T10:30:43.696Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/artifactregistry.googleapis.com 200
[debug] [2022-08-30T10:30:43.696Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2022-08-30T10:30:43.696Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudbuild.googleapis.com 200
[debug] [2022-08-30T10:30:43.696Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2022-08-30T10:30:43.726Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudfunctions.googleapis.com 200
[debug] [2022-08-30T10:30:43.726Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/fitness-army/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2022-08-30T10:30:43.726Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army/adminSdkConfig [none]
[debug] [2022-08-30T10:30:44.045Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army/adminSdkConfig 200
[debug] [2022-08-30T10:30:44.046Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army/adminSdkConfig {"projectId":"fitness-army","databaseURL":"https://fitness-army-default-rtdb.europe-west1.firebasedatabase.app","storageBucket":"fitness-army.appspot.com","locationId":"europe-west"}
[debug] [2022-08-30T10:30:44.047Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/fitness-army/configs [none]
[debug] [2022-08-30T10:30:44.460Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/fitness-army/configs 200
[debug] [2022-08-30T10:30:44.460Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/fitness-army/configs {}
[info] i  functions: preparing codebase default for deployment 
[debug] [2022-08-30T10:30:44.462Z] Validating nodejs source
[debug] [2022-08-30T10:30:46.465Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^0.2.0",
    "typescript": "^4.5.4"
  },
  "private": true
}
[debug] [2022-08-30T10:30:46.466Z] Building nodejs source
[debug] [2022-08-30T10:30:46.467Z] Could not find functions.yaml. Must use http discovery
[debug] [2022-08-30T10:30:46.703Z] Serving at port 9006

[debug] [2022-08-30T10:30:46.860Z] Got response from /__/functions.yaml {"endpoints":{"app":{"platform":"gcfv1","httpsTrigger":{},"entryPoint":"app"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2022-08-30T10:30:46.864Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\mzafirovski\WebstormProjects\fitness-army\fitness-army\functions (132.42 KB) for uploading 
[debug] [2022-08-30T10:30:46.982Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/-/functions [none]
[debug] [2022-08-30T10:30:47.656Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/-/functions 200
[debug] [2022-08-30T10:30:47.656Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/-/functions {"functions":[{"name":"projects/fitness-army/locations/us-central1/functions/app","httpsTrigger":{"url":"https://us-central1-fitness-army.cloudfunctions.net/app","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"app","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"fitness-army@appspot.gserviceaccount.com","updateTime":"2022-08-26T10:32:45.788Z","versionId":"87","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-645309662845.us-central1.cloudfunctions.appspot.com/fa9eaa36-5824-403d-9f56-12653a47be4f.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"fitness-army\",\"databaseURL\":\"https://fitness-army-default-rtdb.europe-west1.firebasedatabase.app\",\"storageBucket\":\"fitness-army.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"fitness-army"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"fe1ab141-a4aa-4f7a-ac63-f044cc96202e","buildName":"projects/232059287122/locations/us-central1/builds/fe1ab141-a4aa-4f7a-ac63-f044cc96202e","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2022-08-30T10:30:47.657Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2alpha/projects/fitness-army/locations/-/functions [none]
[debug] [2022-08-30T10:30:48.762Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2alpha/projects/fitness-army/locations/-/functions 200
[debug] [2022-08-30T10:30:48.762Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2alpha/projects/fitness-army/locations/-/functions {}
[debug] [2022-08-30T10:30:48.773Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army [none]
[debug] [2022-08-30T10:30:49.090Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army 200
[debug] [2022-08-30T10:30:49.090Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/fitness-army {"projectId":"fitness-army","projectNumber":"232059287122","displayName":"fitness-army","name":"projects/fitness-army","resources":{"hostingSite":"fitness-army","realtimeDatabaseInstance":"fitness-army-default-rtdb","storageBucket":"fitness-army.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_60a59575-8a99-4e1f-be7f-8743394f6dee"}
[debug] [2022-08-30T10:30:49.091Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2022-08-30T10:30:49.091Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/us-central1/functions:generateUploadUrl {}
[debug] [2022-08-30T10:30:49.798Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/us-central1/functions:generateUploadUrl 200
[debug] [2022-08-30T10:30:49.798Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/fitness-army/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-645309662845.us-central1.cloudfunctions.appspot.com/df3a4a3f-788b-48b9-8dae-f623da4380d3.zip?GoogleAccessId=service-232059287122@gcf-admin-robot.iam.gserviceaccount.com&Expires=1661857177&Signature=QI1sTQQR0LTmq53ltoz4YvXIvQc9m%2BDd0tg3l6Bpmz1K7gWz9DC3q9cnQBGPZhJNso4QYYni%2Fhlj4MfQkrOvkqD2dm72UL013OpJkzyyxQDki%2BVLO5QKdNAXAoZCcStdx4HTg3uvBmVIpikcYSVQoeV7SJw2ZoGqPkTFoFfpSL5JYPc2B2x7dE%2BnYM0fhfVpIj6%2FkGU7Eja5i0MYukEb%2FEgYvC%2BvlfZyprelckJVhyKYueqGH9DfQbyQddrikIpUqJGGInm%2Bt6H0IUIpL62GjavgbwKpc0k9khca2IGN3CCquMyiz18pzvFvpMvCKhgKKjvRQakVj%2BZfkMz1g4UEUA%3D%3D"}
[debug] [2022-08-30T10:30:49.800Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-645309662845.us-central1.cloudfunctions.appspot.com/df3a4a3f-788b-48b9-8dae-f623da4380d3.zip GoogleAccessId=service-232059287122%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1661857177&Signature=QI1sTQQR0LTmq53ltoz4YvXIvQc9m%2BDd0tg3l6Bpmz1K7gWz9DC3q9cnQBGPZhJNso4QYYni%2Fhlj4MfQkrOvkqD2dm72UL013OpJkzyyxQDki%2BVLO5QKdNAXAoZCcStdx4HTg3uvBmVIpikcYSVQoeV7SJw2ZoGqPkTFoFfpSL5JYPc2B2x7dE%2BnYM0fhfVpIj6%2FkGU7Eja5i0MYukEb%2FEgYvC%2BvlfZyprelckJVhyKYueqGH9DfQbyQddrikIpUqJGGInm%2Bt6H0IUIpL62GjavgbwKpc0k9khca2IGN3CCquMyiz18pzvFvpMvCKhgKKjvRQakVj%2BZfkMz1g4UEUA%3D%3D
[debug] [2022-08-30T10:30:49.800Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-645309662845.us-central1.cloudfunctions.appspot.com/df3a4a3f-788b-48b9-8dae-f623da4380d3.zip [stream]
